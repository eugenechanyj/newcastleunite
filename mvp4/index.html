<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MVP4 — Hero Carousel</title>
  <style>
  /* ===== MVP4 (scoped) — one-file, self-contained ===== */
  :root{
    --m4-heroH-desktop: 52vh;
    --m4-heroH-mobile: 38vh;
    --m4-gutter: 16px;
    --m4-white:#fff; --m4-black:#0B0E11; --m4-blue:#00B6F1; --m4-border:#E6E6E6;
  }
  html,body{ margin:0; padding:0; overflow-x:hidden; background:#0B0E11; color:#fff; }
  .mvp4 *{ box-sizing:border-box; }
  .mvp4 a{ color:inherit; text-decoration:none; }

  /* Buttons (kept for possible hero CTAs) */
  .m4-btn{ display:inline-block; border:1px solid var(--m4-border); border-radius:12px; padding:10px 14px; font-weight:700; background:#fff; color:#111; }
  .m4-btn--primary{ background:var(--m4-blue); color:#fff; border-color:transparent; }

  /* HERO */
  .mvp4-hero{ background: var(--m4-black); color: var(--m4-white); }
  .mvp4-hero__slides{
    position: relative; width: 100%;
    height: var(--m4-heroH-desktop);
    overflow: clip; contain: layout paint; isolation: isolate;
  }
  @media (max-width:640px){ .mvp4-hero__slides{ height: var(--m4-heroH-mobile); } }

  .mvp4-hero__slide{
    position: absolute; inset: 0;
    display:block; opacity:0; pointer-events:none;
    transform: translateX(0);
    transition: transform .55s ease, opacity .25s ease;
  }
  .mvp4-hero__slide.is-active{ opacity:1; pointer-events:auto; transform:translateX(0); z-index:1; }
  .mvp4-hero__slide.enter-from-right{ transform: translateX(100%); opacity:1; }
  .mvp4-hero__slide.enter-from-left{  transform: translateX(-100%); opacity:1; }
  .mvp4-hero__slide.exit-to-left{     transform: translateX(-100%); }
  .mvp4-hero__slide.exit-to-right{    transform: translateX(100%); }

  .mvp4-hero__bg{ position:absolute; inset:0; }
  .mvp4-hero__bg img{ width:100%; height:100%; display:block; object-fit:cover; object-position:center; background:#111; }
  .mvp4-hero__veil{ position:absolute; inset:0; background:linear-gradient(to top, rgba(0,0,0,.42), rgba(0,0,0,.12)); }
  .mvp4-hero__inner{
    position: relative; z-index:2; height:100%;
    display:grid; align-content:end; justify-items:start;
    gap:10px; padding:26px var(--m4-gutter); text-align:left;
    text-shadow: 1px 1px 6px rgba(0,0,0,.45);
  }
  .mvp4-hero__inner h1{ margin:0 0 6px; font:900 clamp(1.8rem, 6vw, 3.2rem)/1.05 system-ui, sans-serif; letter-spacing:-0.3px; }
  .mvp4-hero__inner p{ margin:0 0 10px; font:500 clamp(1rem, 3.2vw, 1.25rem)/1.4 system-ui, sans-serif; }

  .mvp4-hero__ctrl{
    position:absolute; top:50%; transform:translateY(-50%);
    width:38px; height:38px; border-radius:10px; border:1px solid rgba(255,255,255,.25);
    background:rgba(0,0,0,.45); color:#fff; display:grid; place-items:center; cursor:pointer; z-index:3;
  }
  .mvp4-hero__prev{ left:12px; } .mvp4-hero__next{ right:12px; }
  .mvp4-hero__dots{ position:absolute; left:0; right:0; bottom:12px; display:flex; gap:8px; justify-content:center; z-index:3; }
  .mvp4-hero__dots button{
    all:unset; width:9px; height:9px; border-radius:50%;
    border:1px solid rgba(255,255,255,.7); opacity:.7; cursor:pointer; background:transparent;
  }
  .mvp4-hero__dots button.is-active{ background:#fff; opacity:1; }
  </style>
</head>
<body>

<main class="mvp4">
  <!-- HERO -->
  <section class="mvp4-hero" aria-label="Featured">
    <div class="mvp4-hero__slides" role="region">
      <!-- Slide 1 -->
      <article class="mvp4-hero__slide is-active" data-idx="0">
        <div class="mvp4-hero__bg">
          <img src="/assets/newcastleunitegraffitwallstretched.jpg" alt="Graffiti wall background for Minute Magpie hero">
        </div>
        <div class="mvp4-hero__veil"></div>
        <div class="mvp4-hero__inner">
          <h1>Got a minute?</h1>
          <p>Get your 60-second podcast snack now!</p>
          <!-- Example CTA (optional)
          <div class="m4-actions">
            <a class="m4-btn m4-btn--primary" href="#">Listen Now</a>
            <a class="m4-btn" href="#">Learn More</a>
          </div> -->
        </div>
      </article>

      <!-- Slide 2 -->
      <article class="mvp4-hero__slide" data-idx="1">
        <div class="mvp4-hero__bg">
          <img src="/assets/minutemagpiecomic3.png" alt="Minute Magpie comic illustration">
        </div>
        <div class="mvp4-hero__veil"></div>
        <div class="mvp4-hero__inner">
          <h1>A magpie of all traits...</h1>
          <p>Get to know &quot;Minute&quot; in under a minute!</p>
        </div>
      </article>

      <!-- Slide 3 -->
      <article class="mvp4-hero__slide" data-idx="2">
        <div class="mvp4-hero__bg">
          <img src="/assets/minutemagpieblindbox1.jpg" alt="Minute Magpie blind box collectible">
        </div>
        <div class="mvp4-hero__veil"></div>
        <div class="mvp4-hero__inner">
          <h1>Labubu-who?</h1>
          <p>Get your limited edition Minute Magpie blind boxes today!</p>
        </div>
      </article>

      <button class="mvp4-hero__ctrl mvp4-hero__prev" aria-label="Previous slide">‹</button>
      <button class="mvp4-hero__ctrl mvp4-hero__next" aria-label="Next slide">›</button>
      <div class="mvp4-hero__dots" role="tablist" aria-label="Hero slides"></div>
    </div>
  </section>
</main>

<script>
(function(){
  // HERO
  const root = document.querySelector('.mvp4-hero');
  const slides = [...root.querySelectorAll('.mvp4-hero__slide')];
  const prevBtn = root.querySelector('.mvp4-hero__prev');
  const nextBtn = root.querySelector('.mvp4-hero__next');
  const dotsBox = root.querySelector('.mvp4-hero__dots');

  let i = 0, anim = false, sx = 0, sy = 0;

  // dots
  slides.forEach((_, idx) => {
    const b = document.createElement('button');
    b.setAttribute('aria-label', `Go to slide ${idx+1}`);
    if(idx===0) b.classList.add('is-active');
    b.addEventListener('click', () => go(idx, idx > i ? 'right' : 'left'));
    dotsBox.appendChild(b);
  });
  const dots = [...dotsBox.children];

  function go(next, dir = 'right'){
    if (anim || next === i) return;
    anim = true;
    const curr = i; i = (next + slides.length) % slides.length;
    const a = slides[curr], b = slides[i];

    a.classList.remove('is-active'); b.classList.add('is-active');
    if(dir === 'right'){ b.classList.add('enter-from-right'); a.classList.add('exit-to-left'); }
    else { b.classList.add('enter-from-left'); a.classList.add('exit-to-right'); }

    const done = () => {
      a.classList.remove('exit-to-left','exit-to-right');
      b.classList.remove('enter-from-right','enter-from-left');
      a.removeEventListener('transitionend', done);
      anim = false;
    };
    a.addEventListener('transitionend', done);

    dots.forEach(d=>d.classList.remove('is-active'));
    dots[i].classList.add('is-active');
  }

  prevBtn.addEventListener('click', () => go(i-1,'left'));
  nextBtn.addEventListener('click', () => go(i+1,'right'));

  // touch swipe (locks horizontal when gesture is mostly x)
  root.addEventListener('touchstart', e => { if(e.touches.length===1){ sx=e.touches[0].clientX; sy=e.touches[0].clientY; }}, {passive:true});
  root.addEventListener('touchmove',  e => {
    if(e.touches.length!==1) return;
    const dx = e.touches[0].clientX - sx;
    const dy = e.touches[0].clientY - sy;
    if(Math.abs(dx) > Math.abs(dy)) e.preventDefault(); // lock horizontal swipe
  }, {passive:false});
  root.addEventListener('touchend',   e => {
    const dx = (e.changedTouches[0].clientX - sx);
    if(Math.abs(dx) > 40){ dx < 0 ? go(i+1,'right') : go(i-1,'left'); }
  });

  // keyboard
  root.addEventListener('keydown', e => {
    if(e.key === 'ArrowRight') go(i+1,'right');
    if(e.key === 'ArrowLeft')  go(i-1,'left');
  });
  root.tabIndex = 0;
})();
</script>
</body>
</html>
