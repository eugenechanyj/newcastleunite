<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NewcastleUnite — MVP3.0</title>
  <meta name="theme-color" content="#0B0E11">
  <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
  <style>
  /* ===========================
     NewcastleUnite MVP 3.0 Base
     =========================== */

  /* Brand tokens (NUFC badge tones) */
  :root{
    --black:#0B0E11;   /* deep canvas, softer than pure black */
    --white:#FFFFFF;
    --blue:#00B6F1;    /* CTA / links */
    --gold:#F0B83D;    /* accent tags */
    --grey:#BBBDBF;    /* subtle text, borders */
    --border:#E6E6E6;
    --shadow:0 6px 18px rgba(0,0,0,.12);
    --shadow-lg:0 10px 24px rgba(0,0,0,.16);

    --container:1200px;
    --gutter:16px;

    --rail-card-w:280px;   /* default rail tile size */
    --rail-card-h:158px;   /* ~16:9 (280x158) */
    --banner-h:180px;      /* card banner height for non-rail cards */
  }

  /* Base canvas */
  html,body{margin:0;padding:0}
  body.rails{
    background:var(--black);
    color:var(--white);
    font: 400 16px/1.5 Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  }
  a{color:var(--blue);text-decoration:none}
  a:hover{filter:brightness(.92)}

  /* Buttons */
  .btn{display:inline-block;border-radius:12px;border:1px solid var(--border);padding:10px 14px;
       font:700 .95rem/1 Montserrat, system-ui, sans-serif;cursor:pointer}
  .btn-primary{background:var(--blue);color:#fff;border-color:transparent}
  .btn-primary:hover{filter:brightness(.92)}
  .btn-secondary{background:#fff;color:#0a0a0a}
  .btn-secondary:hover{background:#f2f2f2}

  /* Utility: container width */
  .container{max-width:var(--container);margin:0 auto;padding:0 var(--gutter);box-sizing:border-box}

  /* Section titles */
  .section-title{
    margin:0 0 12px;
    font: 800 clamp(1.2rem, vw, 1.6rem)/1.15 Montserrat, system-ui, sans-serif;
    letter-spacing:.2px;
    color:#fff;
    display:flex;align-items:center;gap:10px;
  }
  .mm-sticker{
    background:#fff;color:#000;border:1px solid var(--border);
    border-radius:14px;padding:6px 10px;box-shadow:var(--shadow);font-weight:800
  }
  .mm-badge{
    display:inline-block;background:var(--blue);color:#fff;border-radius:999px;
    padding:6px 10px;font:800 12px/1.1 Montserrat, system-ui, sans-serif
  }

  /* Clamp utilities */
  .clamp-2,.clamp-{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}
  .clamp-2{-webkit-line-clamp:2}
  .clamp-3{-webkit-line-clamp:3}

  /* Hero (Netflix vibe) */
  .hero{
    position:relative;min-height:52vh;display:flex;align-items:flex-end;
    background:#0B0E11 center/cover no-repeat;
  }
  .hero::after{
    content:"";position:absolute;inset:0;
    background:linear-gradient(to top, rgba(0,0,0,.45), rgba(0,0,0,.20))
  }
  .hero__inner{position:relative;z-index:1}
  .hero__inner h1{margin:8px 0 6px;font:900 clamp(1.6rem, 5vw, 3rem)/1.05 Montserrat, system-ui, sans-serif}
  .hero__inner p{margin:0 0 14px;font:500 1.05rem/1.45 Inter, system-ui, sans-serif;opacity:.95}

  /* Rail (horizontal carousel) */
  .rail{position:relative;margin:24px 0}
  .rail__title{display:flex;align-items:center;justify-content:space-between;margin:8px 0 10px}
  .rail__title h2,.rail__title h3{margin:0;font:800 1.3rem/1.1 Montserrat, system-ui, sans-serif;color:#fff}
  .rail__track{display:flex;gap:12px;overflow-x:auto;overflow-y:hidden;scroll-snap-type:x proximity;
               padding-bottom:6px;-webkit-overflow-scrolling:touch}
  .rail__track::-webkit-scrollbar{display:none}
  .rail__item{flex:0 0 var(--rail-card-w);scroll-snap-align:start}
  .rail__card{background:#fff;color:#0a0a0a;border:1px solid var(--border);border-radius:14px;
              box-shadow:var(--shadow);overflow:hidden;transition:transform .12s ease, box-shadow .12s ease;display:block}
  .rail__card:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
  .rail__img{width:100%;height:var(--rail-card-h);object-fit:cover;display:block;background:#ddd}
  .rail__meta{padding:10px 12px}
  .rail__meta h4{margin:0 0 4px;font:800 .98rem/1.15 Montserrat, system-ui, sans-serif;color:#0a0a0a}
  .rail__meta p{margin:0;font:.92rem/1.25 Inter, system-ui, sans-serif;color:#333}

  /* Rail arrows */
  .rail__btn{
    background:rgba(0,0,0,.6);color:#fff;border:0;width:36px;height:36px;border-radius:999px;
    display:grid;place-items:center;cursor:pointer;position:absolute;top:50%;transform:translateY(-50%)
  }
  .rail__btn:hover{background:rgba(0,0,0,.75)}
  .rail__btn--prev{left:6px}
  .rail__btn--next{right:6px}

  /* Minute Magpie 3-up (kept for non-rail editorial block) */
  .mm-3up{display:grid;gap:16px;grid-template-columns:repeat(3,minmax(0,1fr))}
  .mm-3up > .card{background:#fff;color:#0a0a0a;border:1px solid var(--border);border-radius:14px;
                  box-shadow:var(--shadow);padding:14px;display:flex;flex-direction:column}
  .card-banner{display:block;width:100%;height:var(--banner-h);object-fit:cover;background:#ddd;border:0;border-radius:10px;margin:0 0 10px}
  .mm-actions{margin-top:auto}
  .mm-credits a{display:inline-block;background:#f7f7f7;color:#0a0a0a;border:1px solid var(--border);
                border-radius:999px;padding:6px 10px;margin:4px 6px 0 0;font:700 .85rem/1 Montserrat, system-ui, sans-serif}

  /* Responsive */
  @media (max-width: 900px){
    :root{ --rail-card-w:240px; --rail-card-h:135px }
  }
  @media (max-width: 640px){
    :root{ --rail-card-w:76vw; --rail-card-h:calc(76vw * 9 / 16) }
    .mm-3up{grid-template-columns:1fr}
  }

/* === Normalize section widths/edges === */
section.container,
.hero .hero__inner,
.rail.container,
#creators.container,
#gear.container,
#club-news.container,
#live.container,
#newsletter.container {
  max-width: var(--container);
  margin: 0 auto;
  padding: 0 var(--gutter);
  box-sizing: border-box;
}

/* Make rail title + track line up to the same left edge */
.rail .rail__title { padding: 0; }
.rail .rail__track { padding-left: 0; padding-right: 0; }

/* Ensure 3-up grids match edges too */
#live .mm-3up { margin: 0; }

/* === Normalize "Join the Flock" left edge to match other sections === */
#newsletter .section-title,
#newsletter p,
#newsletter form { margin-left: 0; }

/* (Old #news styles removed) */

/* === Generic scroll areas for text inside cards === */
.mm-scroll{
  overflow: auto;
  max-height: 160px;         /* tune to taste */
  padding-right: 6px;
}
/* If a banner image is present, reduce max-height a bit */
.card .card-banner + .mm-scroll{ max-height: 140px; }

/* === LIVE row: equal card height + scrollable widgets === */
#live .mm-3up > .card{
  min-height: 290px;         /* your current “2/3 height” */
  display: flex;
  flex-direction: column;    /* keeps actions/credits at bottom */
}

/* Fixed-height windows for iframes (Live Scores / PL Table / CL Table) */
#live .embed-scroll{
  height: 200px;             /* same window height for all 3 boxes */
  overflow: auto;
  border-radius: 10px;
  background: #fff;
}
#live iframe{
  width: 100%;
  height: 100% !important;   /* fill the window; scroll inside */
  border: none;
}

/* (Old #live-table-card-specific rules removed; now unified via #live .embed-scroll) */
 
/* Header layout */
.site-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px;
}
.brand{ display:flex; align-items:center; gap:10px; flex-wrap:wrap }
.brand strong{ letter-spacing:.3px; font-size:1.05rem }
.brand .tagline{ opacity:.85 }

/* Desktop nav */
.site-nav{ display:flex; gap:14px; align-items:center; font-weight:700; font-size:.95rem }

/* Burger button: hidden on desktop */
.nav-toggle{
  display:none; background:transparent; color:#fff;
  border:1px solid var(--border); border-radius:10px; padding:6px 10px;
  font-size:1.1rem; cursor:pointer
}

/* Mobile behavior */
@media (max-width: 820px){
  .site-nav{
    position:absolute; top:58px; right:16px; left:16px;
    display:none; flex-direction:column; gap:10px; padding:12px;
    background:#111418; border:1px solid #22272d; border-radius:12px; box-shadow:var(--shadow-lg);
    z-index:50;
  }
  .site-nav a{ display:block }
  .site-nav.open{ display:flex }
  .nav-toggle{ display:inline-block }

  /* smoother anchor jump with sticky header on mobile */
  :target{ scroll-margin-top: 72px; }
}

/* Hero mobile fit */
@media (max-width: 640px){
  .hero{ min-height: 40vh; background-position:center top; }
  .hero__inner h1{ font-size: clamp(1.4rem, 6vw, 2.1rem); }
  .hero__inner p{ font-size: .98rem; }
}

/* Long titles never overflow */
.section-title{ word-wrap: break-word; overflow-wrap: anywhere; }

/* Live row: mobile sizes */
@media (max-width: 640px){
  #live .section-title{ font-size: 1.05rem; }
  #live .mm-3up > .card{ min-height: 260px; }
  #live .embed-scroll{ height: 180px; }
}
#live h3.section-title{ white-space: normal }

/* Keep short labels on one line (nav + white badges) */
.site-nav a,
.btn,
.mm-sticker{
  white-space: nowrap;
}

/* Scale badge a touch on small screens so words never break */
@media (max-width: 640px){
  .mm-sticker{ font-size: .9rem; padding: 5px 10px; }
  /* optional: tighten nav link spacing inside the mobile dropdown */
  .site-nav a{ line-height: 1.2; }
}

/* === End Banner (compact hero footer) === */
.end-cta{
  position: relative;
  min-height: 32vh;                       /* tune 28–36vh as you like */
  display: grid;
  align-items: center;
  background: #0B0E11 center/cover no-repeat;
  margin: 28px 0 0;
}
.end-cta__veil{
  position:absolute; inset:0;
  /* subtle gradient for legibility */
  background: linear-gradient(90deg, rgba(0,0,0,.55) 0%, rgba(0,0,0,.35) 45%, rgba(0,0,0,.2) 70%, rgba(0,0,0,.35) 100%);
}
.end-cta__inner{
  position: relative; z-index: 1;
  max-width: var(--container);
  margin: 0 auto;
  padding: 0 var(--gutter);
  display: grid;
  grid-template-columns: 1fr auto;        /* text/space | form */
  gap: 16px;
  align-items: center;
}
.end-cta__badge{
  justify-self: start;
  background:#fff; color:#000;
  padding:6px 10px; border-radius:999px; font:800 .9rem/1.1 Montserrat, system-ui, sans-serif;
  box-shadow: var(--shadow, 0 6px 18px rgba(0,0,0,.12));
}

/* Form (right aligned) */
.end-cta__form{
  justify-self: end;
  display: inline-flex; gap: 8px; align-items:center; flex-wrap: nowrap;
}
.end-cta__form input[type="email"]{
  background:#fff; color:#0a0a0a;
  border:1px solid var(--card-brd, #E6E6E6); border-radius:10px;
  padding:10px 12px; font-size:.95rem; min-width: 240px;
}
.end-cta__form .btn{ padding:10px 12px; font-size:.95rem; border-radius:10px }

/* Accessibility helper */
.visually-hidden{
  position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px);
  white-space:nowrap; border:0; padding:0; margin:-1px;
}

/* Mobile: stack and fill width */
@media (max-width: 640px){
  .end-cta{ min-height: 26vh; }
  .end-cta__inner{
    grid-template-columns: 1fr;
    gap: 10px;
  }
  .end-cta__badge{ justify-self: start; font-size:.85rem }
  .end-cta__form{ justify-self: stretch; }
  .end-cta__form input[type="email"]{ width:100%; min-width:0; padding:9px 10px; font-size:.92rem }
  .end-cta__form .btn{ padding:9px 10px; font-size:.92rem }
}

/* === Mobile Compact Pass (phones ≤640px) === */
@media (max-width:640px){

  /* Global scale & spacing */
  :root{ --gutter: 12px; }                 /* narrower side padding */
  html{ font-size: 15px; }                 /* down from browser default ~16px */
  body{ line-height: 1.45; }

  /* Header */
  .site-header{ padding:10px 12px; }
  .brand strong{ font-size: 1rem; }
  .brand .tagline{ font-size:.9rem; opacity:.8; }
  .site-nav a{ font-size:.95rem; line-height:1.2; }

  /* Buttons & badges */
  .btn{ padding:8px 10px; font-size:.92rem; border-radius:10px; }
  .mm-sticker{ font-size:.9rem; padding:5px 10px; }

  /* Section titles */
  .section-title{
    font-size: clamp(1.05rem, 4.2vw, 1.25rem);
    margin: 4px 0 10px;
  }

  /* Hero (top banner) */
  .hero{ min-height: 38vh; background-position:center top; }
  .hero__inner{ padding: 20px 0 24px; }
  .hero__inner h1{ font-size: clamp(1.3rem, 6vw, 2rem); }
  .hero__inner p{ font-size:.95rem; }

  /* Rails (Creators, Club News, Gear) */
  .rail__track{ gap: 10px; }
  .rail__item{ min-width: 64vw; }          /* slightly narrower cards for easier swipe */
  .rail__img{ height: 150px; object-fit: cover; }
  .rail__meta h4{ font-size:.97rem; }
  .rail__meta p{ font-size:.9rem; }

  /* LIVE row */
  #live .mm-3up{ gap: 10px; }
  #live .section-title{ font-size: 1.02rem; }
  #live .mm-3up > .card{ min-height: 250px; }
  #live .embed-scroll{ height: 170px; }     /* was 200px */
  #live h3.section-title{ white-space: normal; }

  /* Card system */
  .card{ border-radius:12px; box-shadow: 0 4px 14px rgba(0,0,0,.12); }
  .card .card-banner{ height: 150px; }

  /* End banner (footer hero) */
  .end-cta{ min-height: 26vh; }
  .end-cta__inner{ gap: 10px; }
  .end-cta__badge{ font-size:.85rem; }
  .end-cta__form input[type="email"]{ width:100%; min-width:0; padding:9px 10px; font-size:.92rem; }
  .end-cta__form .btn{ padding:9px 10px; font-size:.92rem; }

  /* Newsletter (old footer CTA, if still present anywhere) */
  .join-flock.join-flock--minimal{
    gap: 8px; padding: 10px 0; flex-wrap: nowrap; overflow: hidden;
  }
  .join-mascot{ width: 36px; }
  .white-splash{ display:none; }
  .speech-bubble{ display:none; }
  .join-label{
    display:inline-block; background:#fff; color:#000; font-weight:800;
    border-radius:999px; padding:5px 10px; font-size:.9rem; white-space:nowrap; margin-right:6px;
  }
}

/* === Mobile Super-Compact Pass (phones ≤640px) === */
@media (max-width:640px){

  html{ font-size: 13.5px; }    /* down from 15px */
  body{ line-height: 1.4; }

  /* Headings */
  .section-title{ font-size: clamp(1rem, 3.8vw, 1.15rem); }

  /* Cards smaller */
  .card{ border-radius:10px; }
  .card .card-banner{ height: 130px; }
  .rail__item{ min-width: 58vw; }   /* was 64vw */
  .rail__meta h4{ font-size:.9rem; }
  .rail__meta p{ font-size:.85rem; }

  /* Buttons */
  .btn{ padding:7px 9px; font-size:.85rem; border-radius:8px; }

  /* Hero + End banner */
  .hero{ min-height: 34vh; }
  .end-cta{ min-height: 22vh; }
  .end-cta__form input[type="email"]{ font-size:.85rem; padding:8px 9px; }
  .end-cta__form .btn{ font-size:.85rem; padding:8px 9px; }
}

/* === Mobile: ~25% smaller card footprints (phones ≤640px) === */
@media (max-width:640px){

  /* Horizontal rails (Creators / Club News / Gear) */
  .rail__item{ min-width: 48vw; }                 /* was ~64vw → ~25% narrower */
  .rail__img{ height: 112px; }                     /* was ~150px → ~25% shorter */
  .rail__track{ gap: 8px; }

  /* Featured Creators banner image inside each card */
  body.cards-modern .creator img{ height: 120px; } /* was 160px → ~25% shorter */
  body.cards-modern .creator{ border-radius: 12px; }

  /* Live row (3-up) */
  #live .mm-3up{ gap: 10px; }
  #live .mm-3up > .card{
    min-height: 195px;                              /* was ~260px → ~25% shorter */
  }
  #live .embed-scroll{
    height: 140px;                                  /* was ~180–200px → smaller window */
  }
  /* If you use text scroll areas inside cards, trim them too */
  .mm-scroll{ max-height: 110px; }                  /* was ~140–160px */

  /* Generic card visuals a touch tighter */
  .card{ border-radius: 10px; box-shadow: 0 3px 10px rgba(0,0,0,.12); }
  .card .card-banner{ height: 130px; }              /* hero-style images inside cards */
}

/* === Mobile box widths & heights (phones ≤640px) === */
@media (max-width:640px){

  /* Horizontal rails (Creators, Club News, Gear) */
  .rail__item{
    min-width: 44vw;     /* was 64vw → now 44vw (narrower) */
  }

  /* Creator cards (banner images smaller too) */
  body.cards-modern .creator img{ height: 110px; }
  body.cards-modern .creator h4{ font-size:.88rem; }
  body.cards-modern .creator p{ font-size:.8rem; }

  /* Club news / gear etc. inside rails */
  .rail__img{ height: 110px; }

  /* LIVE row */
  #live .mm-3up > .card{ min-height: 180px; }   /* shorter */
  #live .embed-scroll{ height: 120px; }
}

/* === Mobile: smaller section titles === */
@media (max-width:640px){
  .section-title{
    font-size: clamp(.95rem, 3.6vw, 1.05rem);
    margin-bottom: 8px;
  }
}

/* === Mobile: shrink last word in rail titles === */
@media (max-width:640px){
  .rail__title{
    font-size: 1rem; /* overall heading a bit smaller */
  }
  .rail__title::after{
    content:""; /* ensures we can split words */
  }
  /* Target the last word in the title */
  .rail__title{
    display:inline-block;
  }
  .rail__title span:last-child{
    font-size: 0.82em;   /* ~20% smaller */
    font-weight: 700;
    opacity: 0.92;
  }
}

/* Mobile: shrink the last word in rail headings (e.g., Creators) */
@media (max-width: 640px){
  .rail__title .rail-last{
    font-size: 0.82em;   /* ~18% smaller */
    font-weight: 700;    /* keep strong but less shouty */
    opacity: 0.92;
  }
}

/* === LIVE row: equal card heights + consistent inner spacing === */
#live .mm-3up > .card{
  height: 320px;                 /* fixed box height (desktop/tablet) */
  display: flex;
  flex-direction: column;
  padding: 12px;                 /* equal padding on all sides */
  box-sizing: border-box;
  overflow: hidden;              /* keep borders clean */
}

/* Title spacing inside each LIVE card */
#live .card h3.section-title{
  margin: 4px 0 10px;
  color: #0a0a0a;
}

/* The widget window fills the remaining space and scrolls internally */
#live .card .embed-scroll{
  flex: 1 1 auto;                /* take all remaining height */
  height: auto;                  /* ignore earlier fixed heights */
  overflow: auto;                /* scroll inside if content is tall */
  border-radius: 10px;
  background: #fff;
  margin: 0;                     /* remove accidental gaps */
}

/* Iframe fits the window exactly */
#live .card iframe{
  width: 100%;
  height: 100% !important;
  border: 0;
  display: block;
  margin: 0;
  padding: 0;
}

/* Remove any leftover special rules that added min-heights */
#live #live-table-card iframe,
#live #live-table-card{ min-height: 0 !important; }

/* Mobile: same idea, just a bit shorter boxes */
@media (max-width: 640px){
  #live .mm-3up > .card{ height: 220px; }
}

/* Base end-cta (already used above) */
.end-cta{
  position: relative;
  display: grid;
  align-items: center;
  background: #0B0E11 center/cover no-repeat;
  margin: 28px 0 0;
}

/* Use the same darker veil as the top hero (readable text on any image) */
.end-cta__veil{
  position:absolute; inset:0;
  background:
    linear-gradient(180deg, rgba(0,0,0,.55) 0%, rgba(0,0,0,.45) 40%, rgba(0,0,0,.45) 60%, rgba(0,0,0,.55) 100%);
}

/* Inner max-width container */
.end-cta__inner{
  position: relative; z-index: 1;
  max-width: var(--container);
  margin: 0 auto;
  padding: 0 var(--gutter);
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 16px;
  align-items: center;
}

/* Centered variant for footer banner */
.end-cta__inner--center{
  grid-template-columns: 1fr;
  justify-items: center;            /* center title + form */
  text-align: center;
}

/* Form styling (shared) */
.end-cta__form{
  display: inline-flex; gap: 8px; align-items:center; flex-wrap: nowrap;
}
.end-cta__form input[type="email"]{
  background:#fff; color:#0a0a0a;
  border:1px solid var(--card-brd, #E6E6E6); border-radius:10px;
  padding:10px 12px; font-size:.95rem; min-width: 260px;
}
.end-cta__hint{ display:block; margin-top:6px; opacity:.9 }

/* Footer mini-hero sizing (~33% smaller than top hero) */
.end-cta--footer{ min-height: 32vh; }        /* if top hero ~48vh, this is ~33% smaller */

/* Mobile tweaks */
@media (max-width: 640px){
  .end-cta--footer{ min-height: 25vh; }      /* smaller on phones */
  .end-cta__form.end-cta__form--center{ flex-wrap: wrap; justify-content: center; }
  .end-cta__form input[type="email"]{ width:100%; min-width:0; padding:9px 10px; font-size:.92rem }
  .end-cta__hint{ font-size:.85rem }
}

/* Accessibility helper */
.visually-hidden{
  position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px);
  white-space:nowrap; border:0; padding:0; margin:-1px;
}

  /* keep burger above overlay */
  .nav-toggle{
    display: inline-block;
    position: relative;
    z-index: 101;
  }

  /* smooth anchor jump below sticky header */
  :target{ scroll-margin-top: 72px; }
}

/* Drawer overlay (dim background when menu is open) */
#nav-overlay{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.5);
  opacity: 0; visibility: hidden;
  transition: opacity .3s ease;
  z-index: 90;
}
#nav-overlay.active{
  opacity: 1; visibility: visible;
}

/* === RESCUE: Mobile drawer nav (≤820px) — force overrides === */
@media (max-width: 820px){
  /* Drawer panel */
  .site-nav{
    position: fixed !important;
    top: 0; right: 0; bottom: 0;
    width: 70%; max-width: 320px;
    display: flex !important;
    flex-direction: column; gap: 14px;
    padding: 80px 20px 20px;
    background: #111418;
    border-left: 1px solid #22272d;
    box-shadow: -4px 0 16px rgba(0,0,0,.35);
    z-index: 10000;

    /* start off-canvas */
    transform: translateX(100%);
    transition: transform .3s ease;
  }
  .site-nav a{ color:#fff; display:block; font-size:1.05rem; padding:12px 0; }

  /* Open state */
  .site-nav.open{ transform: translateX(0); }

  /* Burger must be above overlay */
  .nav-toggle{ display:inline-block !important; position:relative; z-index:10001; }

  /* Dim overlay */
  #nav-overlay{
    position: fixed; inset: 0;
    background: rgba(0,0,0,.5);
    opacity: 0; visibility: hidden;
    transition: opacity .3s ease;
    z-index: 9999;
  }
  #nav-overlay.show{ opacity:1; visibility:visible; }

  /* Prevent earlier rules from hiding the nav */
  .site-nav[style*="display:none"]{ display:flex !important; }

  /* Anchor jump offset */
  :target{ scroll-margin-top: 72px; }
}

/* === Drawer fixes + brick wall skin (mobile ≤820px) === */
@media (max-width: 820px){
  .site-nav{
    position: fixed; top: 0; right: 0; bottom: 0;
    width: 70vw; max-width: 340px;           /* responsive drawer */
    display: flex; flex-direction: column; gap: 14px;
    padding: 80px 20px 20px;
    color: #fff;
    z-index: 10000;

    /* Brick wall background */
    background: url("/assets/graffitiwallbottom1.jpg") center / cover no-repeat fixed;

    /* Start fully off-canvas; use 102% to hide any border/shadow sliver */
    transform: translateX(102%);
    transition: transform .3s ease;
    /* No shadow while closed (prevents visible edge) */
    box-shadow: none;
  }

  /* Semi-transparent film over bricks for legibility */
  .site-nav .nav-bg-overlay{
    position: absolute; inset: 0;
    background: rgba(0,0,0,.55);
    z-index: -1;                 /* sit behind the links */
  }

  /* Links styling */
  .site-nav a{
    display: block; padding: 12px 0;
    color: #fff; font-size: 1.1rem;
    text-shadow: 1px 1px 3px rgba(0,0,0,.6);
  }

  /* Open state: slide in + add shadow only when visible */
  .site-nav.open{
    transform: translateX(0);
    box-shadow: -4px 0 20px rgba(0,0,0,.5);
  }

  /* Keep burger above overlay */
  .nav-toggle{ display:inline-block; position:relative; z-index:10001; }
}

/* === Mobile drawer nav (≤820px) — unified, final === */
@media (max-width: 820px){
  .site-nav{
    position: fixed; top: 0; right: 0; bottom: 0;
    width: 70vw; max-width: 340px;
    display: flex; flex-direction: column; gap: 14px;
    padding: 80px 20px 20px;
    color: #fff; z-index: 10000;

    /* Brick wall + legibility film */
    background: url("/assets/graffitiwallbottom1.jpg") center / cover no-repeat fixed;
    box-shadow: none;
    transform: translateX(115%);  /* fully offscreen when closed */
    transition: transform .3s ease;
  }

  .site-nav .nav-bg-overlay{
    position: absolute; inset: 0;
    background: rgba(0,0,0,.55);
    z-index: -1;
  }

  .site-nav a{
    display:block; padding:12px 0; font-size:1.1rem; color:#fff;
    text-shadow: 1px 1px 3px rgba(0,0,0,.6);
  }

  .site-nav.open{
    transform: translateX(0);
    box-shadow: -4px 0 20px rgba(0,0,0,.5);
  }

  .nav-toggle{ display:inline-block; position:relative; z-index:10001; }

  :target{ scroll-margin-top: 72px; }
}

/* Drawer footer icon */
.drawer-footer{
  margin-top: auto;   /* pushes it to the bottom */
  padding-top: 20px;
  text-align: center;
}
.drawer-icon{
  width: 60px; height: auto;
  opacity: 0.9;
  filter: drop-shadow(0 3px 6px rgba(0,0,0,0.4));
}

/* Drawer footer icon with hover effect */
.drawer-footer{
  margin-top: auto;   /* push to bottom */
  padding-top: 20px;
  text-align: center;
}

.drawer-link{
  display:inline-block;
}

.drawer-icon{
  width: 64px; height: auto;
  opacity: 0.9;
  filter: drop-shadow(0 3px 6px rgba(0,0,0,0.4));
  transition: transform .25s ease, opacity .25s ease;
}

.drawer-link:hover .drawer-icon{
  transform: scale(1.1);
  opacity: 1;
  filter: drop-shadow(0 6px 12px rgba(0,0,0,0.5));
}

/* Mobile: make hero ~20% taller for better balance */
@media (max-width: 640px){
  .hero{ min-height: 50vh; }  /* try 48–50; was ~40 */
  .hero__inner{ padding-top: 14px; padding-bottom: 14px; }
}

/*  === DISABLE START: OLD HERO block #1 =========================  
/* HERO CAROUSEL */
/* ==== HERO CAROUSEL — minimal, collision-proof ==== */
.hero.hero--carousel{
  position: relative;
  background:#0B0E11;
  border-bottom: 1px solid rgba(255,255,255,.08);
  overflow: hidden;
}

/* Slides: use display switch instead of layered opacity */
.hero__slides{ position:relative; }
.hero__slide{
  display: none;                  /* hidden by default */
  position: relative;             /* create positioning context for children */
  height: 52vh;                   /* desktop/base height */
}
.hero__slide.is-active{ display:block; }

/* Background image layer as <img> */
.hero__bg{ position:absolute; inset:0; z-index:0; }
.hero__bg img{
  position:absolute; inset:0;
  width:100%; height:100%;
  object-fit: cover; object-position: center;
  display:block;
}

/* Veil + content above image */
.hero__veil{ position:absolute; inset:0; z-index:1;
  background: linear-gradient(to top, rgba(0,0,0,.45), rgba(0,0,0,.15));
}
.hero__inner{
  position: relative; z-index:2;
  max-width: var(--container);
  margin: 0 auto;
  padding: 26px var(--gutter);
  display: grid;
  align-content: end;
  height: 100%;
}

/* Controls + dots */
.hero__ctrl, .hero__dots{ position:absolute; z-index:3; }
.hero__ctrl{
  top:50%; transform: translateY(-50%);
  background: rgba(0,0,0,.45); color:#fff;
  border:1px solid rgba(255,255,255,.18);
  width:38px; height:38px; border-radius:10px; font-size:20px;
  display:grid; place-items:center; cursor:pointer;
}
.hero__prev{ left:12px; } .hero__next{ right:12px; }

.hero__dots{ left:0; right:0; bottom:12px; display:flex; gap:8px; justify-content:center; }
.hero__dots button{
  all: unset;
  width: 9px; height: 9px; border-radius: 50%;
  border: 1px solid rgba(255,255,255,.7);
  background: transparent;
  display: inline-block; cursor: pointer; opacity: .7;
}
.hero__dots button.is-active{ background:#fff; opacity:1; }

/* Kill any older pseudo overlays that might be covering things */
.hero.hero--carousel::before,
.hero.hero--carousel::after{ display:none !important; }

/* Mobile: a touch taller for presence */
@media (max-width: 640px){
  .hero__slide{ height: 50vh; }
}

/* Mobile hero height (coexists with A); keep taller for presence */
@media (max-width: 640px){
  .hero.hero--carousel{ min-height: 50vh; } /* pairs with A’s 48vh base */
  .hero__inner h1{ font-size: clamp(1.4rem, 6vw, 2.1rem); }
  .hero__inner p{ font-size: .98rem; }
}

/* === HERO: force slides to render background images and lighten film === */
.hero.hero--carousel{ position:relative; overflow:hidden; }
.hero__slides{ position:relative; height:100%; }
.hero__slide{
  position:absolute; inset:0;
  background-position:center; background-size:cover; background-repeat:no-repeat;
  opacity:0; pointer-events:none; transition:opacity .6s ease;
}
.hero__slide.is-active{ opacity:1; pointer-events:auto; }

/* If your overlay felt too dark, lighten it here */
.hero__slide .hero__veil{
  position:absolute; inset:0;
  background: linear-gradient(to top, rgba(0,0,0,.45), rgba(0,0,0,.15));
}

/* HERO dots: reset any global button styles so they are perfect circles */
.hero__dots button{
  all: unset;
  width: 9px; height: 9px;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,.7);
  background: transparent;
  display: inline-block;
  cursor: pointer;
  opacity: .7;
}
.hero__dots button.is-active{
  background: #fff;
  opacity: 1;
}
/*  === DISABLE END: OLD HERO block #1 =========================== */

/* === NAV drawer: hide drawer-only bits on desktop, show burger only on mobile === */
.nav-toggle{ display: none; }          /* hidden by default (desktop) */
.drawer-footer{ display: none; }       /* drawer mascot hidden on desktop */
.site-nav{ position: relative; }       /* ensure overlay positions relative to nav */

@media (max-width: 820px){
  /* Show burger + footer icon on mobile */
  .nav-toggle{ display: inline-block; position: relative; z-index: 10001; }
  .drawer-footer{ display: block; margin-top: auto; padding-top: 20px; text-align:center; }
  .drawer-footer .drawer-icon{
    width: 64px; height: auto; opacity: .9;
    filter: drop-shadow(0 3px 6px rgba(0,0,0,.4));
    transition: transform .25s ease, opacity .25s ease;
  }
  .drawer-footer .drawer-link:hover .drawer-icon{
    transform: scale(1.08); opacity: 1;
  }

  /* Drawer panel (right-side slide-in) */
  .site-nav{
    position: fixed; top: 0; right: 0; bottom: 0;
    width: 70vw; max-width: 340px;
    display: flex; flex-direction: column; gap: 14px;
    padding: 80px 20px 20px;
    color: #fff; z-index: 10000;

    /* Brick wall + legibility film */
    background: url("/assets/graffitiwallbottom1.jpg") center / cover no-repeat fixed;

    /* Start fully off-canvas; overshoot to avoid any visible sliver */
    transform: translateX(115%);
    transition: transform .3s ease;

    /* No shadow while closed (prevents edge showing) */
    box-shadow: none;
  }

  /* Semi-transparent film inside the drawer for readability */
  .site-nav .nav-bg-overlay{
    position: absolute; inset: 0;
    background: rgba(0,0,0,.55);
    z-index: -1; /* sits behind links/content */
  }

  /* Links in the drawer */
  .site-nav a{
    display:block; padding:12px 0; font-size:1.1rem; color:#fff;
    text-shadow: 1px 1px 3px rgba(0,0,0,.6);
  }

  /* Open state: slide in, add shadow only when visible */
  .site-nav.open{
    transform: translateX(0);
    box-shadow: -4px 0 20px rgba(0,0,0,.5);
  }

  /* Smooth anchor jump below sticky header */
  :target{ scroll-margin-top: 72px; }
}

/*  DISABLE: DEBUG image (old hero)    
/* HERO DEBUG: force the active slide to show a known image */
.hero.hero--carousel .hero__slide.is-active{
  background-image: url('/assets/graffitwallbottom1.jpg?v=1') !important;
  background-position: center;
  background-size: cover;
  background-repeat: no-repeat;
}
*/

/*  === DISABLE START: OLD HERO block #2 =========================

/* === HERO CAROUSEL: height + layers + dots reset === */
.hero.hero--carousel{
  position: relative;
  min-height: 52vh;                 /* ensures we can see the slide */
  background: #0B0E11;
  overflow: hidden;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.hero__slides{ position: relative; height: 100%; z-index: 0; }
.hero__slide{
  position: absolute; inset: 0;
  background-position: center; background-size: cover; background-repeat: no-repeat;
  opacity: 0; pointer-events: none; transition: opacity .6s ease;
  z-index: 0;                      /* image layer */
}
.hero__slide.is-active{ opacity: 1; pointer-events: auto; }
.hero__slide .hero__veil{
  position: absolute; inset: 0;
  background: linear-gradient(to top, rgba(0,0,0,.45), rgba(0,0,0,.15));
  z-index: 1;                      /* veil above image */
}
.hero__inner{ position: relative; z-index: 2; }  /* text/buttons above veil */
.hero__ctrl, .hero__dots{ position: absolute; z-index: 3; }

/* Reset dots so global button styles don't deform them */
.hero__dots button{
  all: unset;
  width: 9px; height: 9px; border-radius: 50%;
  border: 1px solid rgba(255,255,255,.7);
  background: transparent; display: inline-block; cursor: pointer; opacity: .7;
}
.hero__dots button.is-active{ background:#fff; opacity:1; }

/* If you still have an older hero overlay, disable it for the carousel */
.hero.hero--carousel::before,
.hero.hero--carousel::after{ display: none !important; }

/* Mobile balance */
@media (max-width: 640px){
  .hero.hero--carousel{ min-height: 50vh; }
}

/* DISABLED: DEBUG image (old hero)
.hero.hero--carousel .hero__slide.is-active{
  background-image: url('/assets/newcastleunitegraffitiwallstretched.jpg?v=debug') !important;
}
*/

/* DISABLED OLD HERO CAROUSEL (block #3) — using a false media query */
@media not all {
  /* === HERO: render slide images as actual <img> backgrounds === */
  .hero.hero--carousel{ position: relative; min-height: 52vh; overflow: hidden; }
  .hero__slides{ position: relative; height: 100%; z-index: 0; }
  .hero__slide{
    position: absolute; inset: 0;
    opacity: 0; pointer-events: none; transition: opacity .6s ease;
  }
  .hero__slide.is-active{ opacity: 1; pointer-events: auto; }

  /* Background image layer */
  .hero__bg{ position: absolute; inset: 0; z-index: 0; }
  .hero__bg img{
    position: absolute; inset: 0;
    width: 100%; height: 100%;
    object-fit: cover; object-position: center;
    display: block;
  }

  /* Veil + content layers */
  .hero__veil{ position: absolute; inset: 0; z-index: 1;
    background: linear-gradient(to top, rgba(0,0,0,.45), rgba(0,0,0,.15));
  }
  .hero__inner{ position: relative; z-index: 2; }
  .hero__ctrl, .hero__dots{ position: absolute; z-index: 3; }

  /* Reset dots so global .btn styles don't leak */
  .hero__dots button{
    all: unset; width: 9px; height: 9px; border-radius: 50%;
    border: 1px solid rgba(255,255,255,.7); background: transparent;
    display: inline-block; cursor: pointer; opacity: .7;
  }
  .hero__dots button.is-active{ background:#fff; opacity:1; }

  /* Safety: ensure any older hero overlays are off for carousel */
  .hero.hero--carousel::before, .hero.hero--carousel::after{ display:none !important; }

  /* Mobile height */
  @media (max-width: 640px){
    .hero.hero--carousel{ min-height: 50vh; }
  }
}
/* END DISABLED OLD HERO CAROUSEL (block #3) */

    
/* ==== HERO (STATIC RESET) ==== */
.hero.hero--static{
  position: relative;
  min-height: 50vh;            /* visible on all devices */
  overflow: hidden;
  border-bottom: 1px solid rgba(255,255,255,.08);
  background: #0B0E11;         /* safe fallback */
}
.hero.hero--static .hero__bg{ position:absolute; inset:0; z-index:0; }
.hero.hero--static .hero__bg img{
  position:absolute; inset:0;
  width:100%; height:100%;
  object-fit:cover; object-position:center;
  display:block;
}
.hero.hero--static .hero__veil{
  position:absolute; inset:0; z-index:1;
  /* slightly lighter film—tune last numbers for darker/lighter */
  background: linear-gradient(to top, rgba(0,0,0,.40), rgba(0,0,0,.12));
}
.hero.hero--static .hero__inner{
  position: relative; z-index:2;
  max-width: var(--container);
  margin: 0 auto;
  padding: 26px var(--gutter);
  display: grid; align-content: end;
  height: 50vh;                 /* aligns text to bottom nicely */
}
@media (max-width: 640px){
  .hero.hero--static{ min-height: 48vh; }
  .hero.hero--static .hero__inner{ height: 48vh; }
}

/* ===== NU HERO CAROUSEL (isolated) ===== */
.nu-hero{
  position: relative;
  background:#0B0E11;   /* fallback while image loads */
  border-bottom: 1px solid rgba(255,255,255,.08);
  overflow: hidden;
  min-height: 52vh;
}
.nu-hero__slides{ position: relative; }
.nu-hero__slide{
  display: none; position: relative;
  min-height: 52vh;
}
.nu-hero__slide.is-active{ display:block; }

.nu-hero__bg{ position:absolute; inset:0; z-index:0; }
.nu-hero__bg img{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; object-position:center; display:block;
}

.nu-hero__veil{
  position:absolute; inset:0; z-index:1;
  background: linear-gradient(to top, rgba(0,0,0,.42), rgba(0,0,0,.14));
}
.nu-hero__inner{
  position:relative; z-index:2;
  max-width: var(--container);
  margin: 0 auto;
  padding: 26px var(--gutter);
  display:grid; align-content:end; min-height: 52vh;
}
.nu-hero__actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }

/* Controls */
.nu-hero__ctrl{
  position:absolute; top:50%; transform:translateY(-50%);
  background: rgba(0,0,0,.45); color:#fff;
  border:1px solid rgba(255,255,255,.18);
  width:38px; height:38px; border-radius:10px; font-size:20px;
  display:grid; place-items:center; cursor:pointer; z-index:3;
}
.nu-hero__prev{ left:12px; } .nu-hero__next{ right:12px; }

/* Dots */
.nu-hero__dots{
  position:absolute; left:0; right:0; bottom:12px;
  display:flex; gap:8px; justify-content:center; z-index:3;
}
.nu-hero__dots button{
  all: unset;
  width: 9px; height: 9px; border-radius: 50%;
  border: 1px solid rgba(255,255,255,.7);
  background: transparent; display: inline-block; cursor: pointer; opacity:.7;
}
.nu-hero__dots button.is-active{ background:#fff; opacity:1; }

/* Mobile: slightly shorter for balance */
@media (max-width: 640px){
  .nu-hero{ min-height: 50vh; }
  .nu-hero__slide{ min-height: 50vh; }
  .nu-hero__inner{ min-height: 50vh; }
}

/* === HERO headline emphasis === */
.hero__inner h1{
  font-size: clamp(2rem, 6vw, 3.2rem);   /* was ~1.4–2.1rem */
  font-weight: 800;
  line-height: 1.15;
  letter-spacing: -0.5px;
  margin-bottom: 0.4em;
}

/* Make the supporting <p> a touch smaller to contrast */
.hero__inner p{
  font-size: clamp(1rem, 3.5vw, 1.25rem);
  font-weight: 500;
  line-height: 1.4;
}

/* === HERO headline: extra impactful === */
.hero__inner h1{
  font-family: 'Impact', 'Anton', 'Oswald', Montserrat, system-ui, sans-serif;
  font-size: clamp(2.8rem, 8vw, 5rem);   /* desktop up to ~80px */
  font-weight: 900;
  line-height: 1.1;
  letter-spacing: -1px;
  text-transform: uppercase;
  margin-bottom: 0.5em;
  color: #fff;
  text-shadow: 2px 2px 10px rgba(0,0,0,0.6);
}

/* Subtitle contrast */
.hero__inner p{
  font-size: clamp(1rem, 3.5vw, 1.4rem);
  font-weight: 500;
  line-height: 1.4;
  color: #f5f5f5;
  text-shadow: 1px 1px 6px rgba(0,0,0,0.5);
}

/* Mobile override: slightly smaller but still punchy */
@media (max-width: 640px){
  .hero__inner h1{
    font-size: clamp(2rem, 9vw, 3rem);  /* ~32–48px */
    line-height: 1.15;
  }
  .hero__inner p{
    font-size: clamp(.9rem, 4vw, 1.1rem);
  }
}

/* === NU Hero headline: extra impactful === */
.nu-hero .nu-hero__inner h1{
  font-family: 'Anton', Montserrat, system-ui, sans-serif;
  font-size: clamp(3rem, 9vw, 6rem);   /* up to ~96px on large screens */
  font-weight: 900;
  line-height: 1.05;
  letter-spacing: -0.5px;
  text-transform: uppercase;
  margin-bottom: 0.5em;
  color: #fff;
  text-shadow: 2px 2px 10px rgba(0,0,0,0.6);
}

/* Subtitle contrast */
.nu-hero .nu-hero__inner p{
  font-size: clamp(1rem, 3.5vw, 1.4rem);
  font-weight: 500;
  line-height: 1.4;
  color: #f5f5f5;
  text-shadow: 1px 1px 6px rgba(0,0,0,0.5);
}

/* Mobile override: still punchy but controlled */
@media (max-width: 640px){
  .nu-hero .nu-hero__inner h1{
    font-size: clamp(2.4rem, 10vw, 3.2rem);
    line-height: 1.1;
  }
  .nu-hero .nu-hero__inner p{
    font-size: clamp(.95rem, 4vw, 1.15rem);
  }
}

/* === NU Hero headline cleanup === */
.nu-hero .nu-hero__inner h1{
  font-family: 'Anton', Montserrat, system-ui, sans-serif;
  font-size: clamp(1.8rem, 5vw, 3.2rem);  /* scaled down ~50% */
  font-weight: 900;
  line-height: 1.1;
  letter-spacing: -0.3px;
  margin-bottom: 0.5em;
  color: #fff;

  /* keep ONE clean shadow only */
  text-shadow: 1px 1px 6px rgba(0,0,0,0.5);
}

/* Subtitle smaller to match */
.nu-hero .nu-hero__inner p{
  font-size: clamp(.9rem, 3.2vw, 1.2rem);
  font-weight: 500;
  line-height: 1.4;
  color: #f5f5f5;
  text-shadow: 0 1px 4px rgba(0,0,0,0.45);
}

/* === HERO Headline Refinement === */
.hero__inner h1{
  font-family: 'Montserrat', system-ui, sans-serif;
  font-weight: 900;                  /* strong bold */
  font-size: clamp(2rem, 6vw, 4rem); /* big but responsive */
  line-height: 1.05;                 /* tighter so lines sit closer */
  margin: 0 0 0.4em;                 /* small bottom gap */
  letter-spacing: -0.5px;
  color: #fff;

  /* reset shadows globally so no stacking */
  text-shadow: none !important;
  filter: none !important;
  -webkit-text-stroke: 0 !important;
  
  /* apply ONE clean shadow */
  text-shadow: 2px 2px 8px rgba(0,0,0,.55);
}

.hero__inner p{
  font-size: clamp(1rem, 3.2vw, 1.4rem);
  font-weight: 500;
  line-height: 1.35;
  color: #f5f5f5;

  /* reset old styles */
  text-shadow: none !important;
  filter: none !important;
  -webkit-text-stroke: 0 !important;

  text-shadow: 1px 1px 5px rgba(0,0,0,.45);
}

/* === HERO headline: mobile adjustment === */
@media (max-width: 640px){
  .hero__inner h1{
    font-size: clamp(1.6rem, 7vw, 2.4rem);  /* smaller on mobile */
    line-height: 1.1;                       /* a touch looser so lines breathe */
    margin-bottom: 0.5em;
  }
  .hero__inner p{
    font-size: clamp(0.9rem, 3.8vw, 1.2rem);
  }
}

/* === NU Hero headline reset (Montserrat, single shadow, tighter lines) === */
.nu-hero .nu-hero__inner h1{
  font-family: Montserrat, system-ui, sans-serif;  /* revert to the font you liked */
  font-weight: 900;
  font-size: clamp(1.8rem, 5vw, 3.2rem);          /* ~50% smaller than the big version */
  line-height: 1.08;                               /* pulls lines closer together */
  letter-spacing: -0.3px;
  margin: 0 0 0.45em;                              /* small gap under the headline */
  color: #fff;

  /* ensure only one subtle shadow */
  text-shadow: 1px 1px 6px rgba(0,0,0,.5);
  -webkit-text-stroke: 0;
  filter: none;
}

/* Subtitle to match */
.nu-hero .nu-hero__inner p{
  font-family: Montserrat, system-ui, sans-serif;
  font-size: clamp(.95rem, 3.2vw, 1.2rem);
  font-weight: 500;
  line-height: 1.35;
  color: #f5f5f5;
  text-shadow: 0 1px 4px rgba(0,0,0,.45);
}

/* Mobile-specific tweak: scale headline further on small screens */
@media (max-width: 640px){
  .nu-hero .nu-hero__inner h1{
    font-size: clamp(1.4rem, 7vw, 2.2rem);
    line-height: 1.1;
    margin-bottom: 0.5em;
  }
  .nu-hero .nu-hero__inner p{
    font-size: clamp(.9rem, 3.8vw, 1.1rem);
  }
}

/* Tighten hero headline line spacing */
.nu-hero .nu-hero__inner h1 {
  line-height: 1.1;  /* reduce vertical gap between lines */
}

/* Tighter gap between hero headline and subline */
.nu-hero .nu-hero__inner h1{
  line-height: 1.08 !important;     /* keeps lines in the H1 close */
  margin-bottom: 0.20em !important;  /* pulls the subline up */
}

.nu-hero .nu-hero__inner p{
  margin-top: 0 !important;          /* ensure no extra top margin */
}

/* Mobile: nudge a touch tighter */
@media (max-width: 640px){
  .nu-hero .nu-hero__inner h1{ margin-bottom: 0.15em !important; }
}

/* Mobile: shrink hero height by ~25% for better balance */
@media (max-width: 640px){
  .hero.hero--carousel{
    min-height: 38vh !important;  /* was ~50vh */
  }
}

/* Slightly bigger hero headline */
.nu-hero .nu-hero__inner h1{
  font-size: 3.3rem !important;   /* was ~3rem */
}

/* Mobile: scale up headline proportionally */
@media (max-width: 640px){
  .nu-hero .nu-hero__inner h1{
    font-size: 2.2rem !important;  /* was ~2rem */
  }
}

/* === NU HERO: smooth RTL slide (no opacity fade) === */
.nu-hero{ overflow: hidden; }
.nu-hero__slides{ position: relative; }
.nu-hero__slide{
  position: absolute; inset: 0;
  pointer-events: none;
  transform: translateX(100%);           /* default parked to the right */
  transition: transform .55s ease;       /* transform only */
  opacity: 1;                            /* keep fully visible during move */
  z-index: 0;
}
.nu-hero__slide.is-active{
  pointer-events: auto;
  transform: translateX(0);
  z-index: 1;
}

/* Directional helpers the JS toggles */
.nu-hero__slide.enter-from-right{ transform: translateX(100%); }
.nu-hero__slide.enter-from-left{  transform: translateX(-100%); }
.nu-hero__slide.exit-to-left{     transform: translateX(-100%); }
.nu-hero__slide.exit-to-right{    transform: translateX(100%); }

/* Mobile height balance (unchanged) */
@media (max-width: 640px){
  .nu-hero__slides{ min-height: 38vh; }   /* your ~25% shorter mobile hero */
  .nu-hero__slide{ min-height: 38vh; }
  .nu-hero .nu-hero__inner{ min-height: 38vh; }
}

/* Ensure inner fills the slide, so text isn't pushed/cut */
.nu-hero__slides{ min-height: 52vh; position: relative; }
.nu-hero__slide{ min-height: 52vh; }
.nu-hero .nu-hero__inner{
  height: 100%;
  display: grid;
  align-content: end;   /* keeps headline near bottom like Netflix */
  padding: 26px var(--gutter);
  box-sizing: border-box;
}

/* Mobile: keep the shorter hero you wanted */
@media (max-width: 640px){
  .nu-hero__slides{ min-height: 38vh; }
  .nu-hero__slide{  min-height: 38vh; }
  .nu-hero .nu-hero__inner{ height: 38vh; }
}

/* === NU Hero: height vars + mobile slide extends under dots === */
:root{
  --heroH-desktop: 52vh;
  --heroH-mobile: 40vh;   /* tweak this number if you want shorter/taller */
  --heroDots: 28px;       /* space for the dots/buttons row */
}

/* Desktop/base */
.nu-hero__slides,
.nu-hero__slide{ min-height: var(--heroH-desktop); }
.nu-hero .nu-hero__inner{ min-height: var(--heroH-desktop); }

/* Mobile: extend slide so the image covers UNDER the dots too */
@media (max-width: 640px){
  .nu-hero__slides,
  .nu-hero__slide{ min-height: calc(var(--heroH-mobile) + var(--heroDots)); }
  .nu-hero .nu-hero__inner{ min-height: var(--heroH-mobile); }
}

/* === Hero text: mobile refinements === */
@media (max-width: 640px){
  .hero__inner{
    display: flex;
    flex-direction: column;
    justify-content: flex-end;   /* push text down */
    align-items: flex-start;     /* keep left-aligned */
    padding: 0 var(--gutter) 32px; /* breathing room from bottom */
    background: rgba(0,0,0,0.35); /* subtle dark overlay behind text */
    border-radius: 8px;
    margin: 0 12px;              /* keep away from edges */
  }

  .hero__inner h1{
    font-size: clamp(1.2rem, 7vw, 2rem); /* ~20% smaller */
    line-height: 1.15; 
    margin-bottom: 6px;
  }

  .hero__inner p{
    font-size: .92rem;
    margin-bottom: 10px;
  }

  .hero__actions{
    gap: 8px;
  }
}

/* === NU Hero: mobile grounding + faint floating box + 20% smaller headline === */
@media (max-width: 640px){
  .nu-hero .nu-hero__inner{
    display: flex;
    flex-direction: column;
    justify-content: flex-end;            /* push text down */
    align-items: flex-start;
    padding: 12px var(--gutter) 28px;     /* comfy bottom space */
    margin: 0 12px 12px;                  /* keep away from edges */
    background: rgba(0,0,0,0.35) !important;  /* faint box behind text */
    border-radius: 10px;
    box-shadow: 0 6px 18px rgba(0,0,0,.25);
  }

  .nu-hero .nu-hero__inner h1{
    /* ~20% smaller than your current big setting */
    font-size: clamp(1.4rem, 7vw, 2.2rem);
    line-height: 1.12;
    margin-bottom: 6px;                   /* pull subtitle closer */
  }

  .nu-hero .nu-hero__inner p{
    font-size: .92rem;
    margin: 0 0 10px;
  }

  .nu-hero .nu-hero__actions{ gap: 8px; }
}

#hero.nu-hero .nu-hero__inner{ background: rgba(0,0,0,.35) !important; }

/* === NU-HERO QUICK FIXES (place at very bottom of your CSS) === */

/* 1) Lighter, full-width veil that still spans edge-to-edge */
.nu-hero { position: relative; }              /* ensure veil positions correctly */
.nu-hero__veil{
  position: absolute; inset: 0; z-index: 1;
  /* Lighter bottom, gentler fade — tune .38/.12 if you want more/less */
  background: linear-gradient(
    to top,
    rgba(0,0,0,.38) 0%,
    rgba(0,0,0,.32) 22%,
    rgba(0,0,0,.12) 68%,
    rgba(0,0,0,0)   100%
  );
}

/* If you want an even lighter, flat tint instead of a gradient, use this one line:
.nu-hero__veil{ background: rgba(0,0,0,.18); } 
*/

/* 2) On mobile, force the text panel to the BOTTOM (not middle) */
@media (max-width: 640px){
  .nu-hero__inner{
    /* make a 2-row grid: empty space + content row pinned to bottom */
    display: grid;
    grid-template-rows: 1fr auto;
    align-content: stretch;                 /* let grid fill full height */
    min-height: 42vh;                       /* ensure there’s room to push down */
    padding: 12px var(--gutter,16px) 24px;  /* comfy bottom space */
  }
  .nu-hero__panel{
    align-self: end;        /* << pin the panel to the bottom row */
    justify-self: start;    /* left align (change to center if you want) */
    margin: 0 12px;         /* breathing room from screen edges */
    text-align: left;
    /* make the panel itself a touch lighter too */
    background: rgba(12,14,17,.30);
    border-color: rgba(255,255,255,.12);
  }
  /* buttons wrap neatly and stay near the bottom */
  .nu-hero__actions{ justify-content: flex-start; gap: 8px; }
}

/* FORCE: lighter, full-width veil */
.nu-hero{ position: relative !important; }
.nu-hero__bg{ position:absolute !important; inset:0 !important; }
.nu-hero__veil{
  position:absolute !important; inset:0 !important; z-index:1 !important;
  background: linear-gradient(
    to top,
    rgba(0,0,0,.26) 0%,
    rgba(0,0,0,.20) 22%,
    rgba(0,0,0,.10) 68%,
    rgba(0,0,0,0)  100%
  ) !important;
}

/* TEMP: prove CSS is loading */
body { outline: 4px solid hotpink !important; }
    
</style>            
  
</head>
<body class="rails">

  <!-- Top bar (simple) -->
 <header class="container site-header">
  <div class="brand">
    <strong>NewcastleUnite</strong>
    <span class="tagline">: One Toon, One Tune</span>
  </div>

<nav class="site-nav" id="site-nav" aria-label="Main">
  <div class="nav-bg-overlay"></div>

  <a href="#creators">Creators</a>
  <a href="#club-news">News</a>
  <a href="#gear">Merch</a>
  <a href="#live">Hub</a>
  <a href="#newsletter" class="btn btn-primary" style="padding:8px 12px">Join Us</a>

 <!-- Drawer footer logo/icon with link -->
<div class="drawer-footer">
  <a href="/minute-magpie" class="drawer-link">
    <img src="/assets/minutemagpiespraycan1.png" alt="Minute Magpie" class="drawer-icon">
  </a>
</div>

</nav>

  <button class="nav-toggle" id="nav-toggle" aria-label="Open menu" aria-expanded="false" aria-controls="site-nav">☰</button>
</header>

<!-- ===== HERO CAROUSEL (clean, isolated) ===== -->
<section class="nu-hero" id="hero">
  <div class="nu-hero__slides" aria-live="polite">
    <!-- Slide 1 -->
    <article class="nu-hero__slide is-active">
      <div class="nu-hero__bg">
        <img src="/assets/newcastleunitegraffitwallstretched.jpg" alt="">
      </div>
      <div class="nu-hero__veil"></div>
      <div class="nu-hero__inner">
        <h1>Got a minute?</h1>
        <p>Get your 60-sec podcast snack now!</p>
        <div class="nu-hero__actions">
          <a class="btn btn-primary" href="#news">Play 60s</a>
          <a class="btn btn-secondary" href="#newsletter">Join Us</a>
        </div>
      </div>
    </article>

    <!-- Slide 2 -->
    <article class="nu-hero__slide">
      <div class="nu-hero__bg">
        <img src="/assets/minutemagpiecomic3.png" alt="">
      </div>
      <div class="nu-hero__veil"></div>
      <div class="nu-hero__inner">
        <h1>The bird of many faces</h1>
        <p>Find out more about the mysterious magpie!</p>
        <div class="nu-hero__actions">
          <a class="btn btn-primary" href="#creators">Explore Creators</a>
        </div>
      </div>
    </article>

    <!-- Slide 3 -->
    <article class="nu-hero__slide">
      <div class="nu-hero__bg">
        <img src="/assets/minutemagpieblindboxstretched1.jpg" alt="">
      </div>
      <div class="nu-hero__veil"></div>
      <div class="nu-hero__inner">
        <h1>Score limited edition merch!</h1>
        <p>Check out our latest Mystery Boxes</p>
        <div class="nu-hero__actions">
          <a class="btn btn-primary" href="#gear">Shop the Picks</a>
        </div>
      </div>
    </article>
  </div>

  <!-- Controls -->
  <button class="nu-hero__ctrl nu-hero__prev" aria-label="Previous slide">‹</button>
  <button class="nu-hero__ctrl nu-hero__next" aria-label="Next slide">›</button>

  <!-- Dots -->
  <div class="nu-hero__dots" role="tablist" aria-label="Hero slides"></div>
</section>
<!-- ===== /HERO CAROUSEL ===== -->

  <main>

    <!-- Rail: Featured Creators -->
    <section class="rail container" id="creators" aria-label="Featured Creators">
      <div class="rail__title">
        <h2 class="section-title"><span class="mm-sticker">Featured</span> <span class="rail-last">Creators</span></h2>
        <!-- <a href="#" class="mm-badge">See all</a> -->
      </div>

      <button class="rail__btn rail__btn--prev" data-target="#rail-creators" aria-label="Previous">‹</button>
      <button class="rail__btn rail__btn--next" data-target="#rail-creators" aria-label="Next">›</button>

      <div class="rail__track" id="rail-creators">
        <!-- Repeat items; use your real images later -->
        <article class="rail__item">
          <a class="rail__card" href="#">
            <img class="rail__img" src="/assets/creator-1.png" alt="Creator 1">
            <div class="rail__meta">
              <h4>Keith Downie</h4>
              <p class="clamp-2">Inside the Magpie's Nest</p>
            </div>
          </a>
        </article>

        <article class="rail__item">
          <a class="rail__card" href="#">
            <img class="rail__img" src="/assets/creator-2.png" alt="Creator 2">
            <div class="rail__meta">
              <h4>The Magpie Channel</h4>
              <p class="clamp-2">Mag-nificient Matty updates</p>
            </div>
          </a>
        </article>

        <article class="rail__item">
          <a class="rail__card" href="#">
            <img class="rail__img" src="/assets/creator-3.png" alt="Creator 3">
            <div class="rail__meta">
              <h4>Antonio Mango</h4>
              <p class="clamp-2">Delicious news served Fresh!</p>
            </div>
          </a>
        </article>

        <article class="rail__item">
        <a class="rail__card" href="#">
            <img class="rail__img" src="/assets/creator-4.png" alt="Creator 4">
            <div class="rail__meta">
              <h4>Craig Hope</h4>
              <p class="clamp-2">Straight from the Heart</p>
            </div>
          </a>
        </article>

        <article class="rail__item">
          <a class="rail__card" href="#">
            <img class="rail__img" src="/assets/creator-5.png" alt="Creator 5">
            <div class="rail__meta">
              <h4>Adam Pearson</h4>
              <p class="clamp-2">This guy's everywhere!</p>
            </div>
          </a>
        </article>

      </div>
    </section>          

<!-- ===== Rail: Club News ===== -->
<section class="rail container" id="club-news" aria-label="Club News">
  <div class="rail__title">
    <h2 class="section-title"><span class="mm-sticker">Club</span> <span class="rail-last">News</span></h2>
    <!-- <a href="#" class="mm-badge">See all</a> -->
  </div>

  <button class="rail__btn rail__btn--prev" data-target="#rail-club-news" aria-label="Previous">‹</button>
  <button class="rail__btn rail__btn--next" data-target="#rail-club-news" aria-label="Next">›</button>

  <div class="rail__track" id="rail-club-news">
   
<!-- Box 1 — Eddie Howe -->
<article class="rail__item">
  <a class="rail__card" href="#">
    <img class="rail__img" src="/assets/eddiehoweletsgo.png" alt="Howe's your day? — Eddie Howe">
    <div class="rail__meta">
      <h4>Howe's your day?</h4>
      <p class="clamp-2">Straight from the Gaffer's Beak</p>
    </div>
  </a>
</article>

<!-- Box 2 — Club Owners -->
<article class="rail__item">
  <a class="rail__card" href="#">
    <img class="rail__img" src="/assets/yasirnufcchairman.jpg" alt="Mount Olympus — Club Owners">
    <div class="rail__meta">
      <h4>Newcastle Vision</h4>
      <p class="clamp-2">Get to know our Owners</p>
    </div>
  </a>
</article>

<!-- Box 3 — New Stadium -->
<article class="rail__item">
  <a class="rail__card" href="#">
    <img class="rail__img" src="/assets/nufcstadium1.jpg" alt="Our New Nest 2.0 — New stadium">
    <div class="rail__meta">
      <h4>SJP 2.0</h4>
      <p class="clamp-2">Time Travel into the Future</p>
    </div>
  </a>
</article>

<!-- Box 4 — Tickets (external link) -->
<article class="rail__item">
  <a class="rail__card"
     href="https://book.newcastleunited.com"
     target="_blank"
     rel="noopener noreferrer"
     aria-label="Open Newcastle United ticketing">
    <img class="rail__img" src="/assets/nufctickets.jpeg" alt="Book your tickets now">
    <div class="rail__meta">
      <h4>Book your tickets now</h4>
      <p class="clamp-2">Support us Home & Away</p>
    </div>
  </a>
</article>

<!-- Box 5 — NU Foundation (external link) -->
<article class="rail__item">
  <a class="rail__card"
     href="https://www.nufoundation.org.uk/news"
     target="_blank"
     rel="noopener noreferrer"
     aria-label="Open Newcastle United Foundation news">
    <img class="rail__img" src="https://nuf.builtbybeluga.com/media/pages/news/tino-livramento-and-lewis-hall-kick-off-newcastle-united-foundation-summer-holiday-courses/c6698a4da0-1753282885/20250722-nuf-holiday-course-141-min-2048x-q80.jpg" alt="Join Us! — Newcastle United Foundation">
    <div class="rail__meta">
      <h4>Join our Foundation</h4>
      <p class="clamp-2">Be part of our community</p>
    </div>
  </a>
</article>
    
  </div>
</section>
    
<!-- ===== Rail: Gear (affiliate-ready + your merch first) ===== -->
<section class="rail container" id="gear" aria-label="Fan Gear">
  <div class="rail__title">
    <h2 class="section-title"><span class="mm-sticker">Merch</span> <span class="rail-last">and More</span></h2>
    <span style="opacity:.85;font-size:.55rem">Some links may earn a small commission</span>
  </div>

  <button class="rail__btn rail__btn--prev" data-target="#rail-gear" aria-label="Previous">‹</button>
  <button class="rail__btn rail__btn--next" data-target="#rail-gear" aria-label="Next">›</button>

  <div class="rail__track" id="rail-gear">
    <!-- Item 1 — YOUR MERCH (internal) -->
    <article class="rail__item">
      <a class="rail__card"
         href="/minute-magpie-merch"
         aria-label="Open Minute Magpie Merch subpage">
        <img class="rail__img" src="/assets/minutemagpieblindbox2.jpg" alt="Minute Magpie Merch">
        <div class="rail__meta">
          <h4>Minute Magpie Merch</h4>
          <p class="clamp-2">Mystery boxes and more!</p>
        </div>
      </a>
    </article>

    <!-- Item 2 — Terrace Icons Jersey -->
    <article class="rail__item">
      <a class="rail__card"
         href="https://shop.newcastleunited.com/products/newcastle-united-adidas-25-26-terrace-icons-off-white-jersey"
         target="_blank"
         rel="noopener noreferrer sponsored"
         aria-label="Open Terrace Icons Off White Jersey on NUFC shop">
        <img class="rail__img" src="https://shop.newcastleunited.com/cdn/shop/files/JM9492_MOD_5.webp?v=1757949129&width=800" alt="Retro Royalty — NUFC Terrace Icons Jersey">
        <div class="rail__meta">
          <h4>Retro Royalty</h4>
          <p class="clamp-2">NUFC Terrace Icons Jersey</p>
        </div>
      </a>
    </article>

    <!-- Item 3 — Bobby Bear -->
    <article class="rail__item">
      <a class="rail__card"
         href="https://shop.newcastleunited.com/products/newcastle-united-bobby-bear"
         target="_blank"
         rel="noopener noreferrer sponsored"
         aria-label="Open Bobby Bear on NUFC shop">
        <img class="rail__img" src="https://shop.newcastleunited.com/cdn/shop/files/S1170_FLAT_1.webp?v=1748507491&width=800" alt="Un-bearably Cute! — NUFC Bobby Bear (Limited Stocks)">
        <div class="rail__meta">
          <h4>Un-bearably Cute!</h4>
          <p class="clamp-2">NUFC Bobby Bear (Limited)</p>
        </div>
      </a>
    </article>

    <!-- Item 4 — Baby Bodysuit (2-pack) -->
    <article class="rail__item">
      <a class="rail__card"
         href="https://shop.newcastleunited.com/products/newcastle-united-2-pack-bodysuit"
         target="_blank"
         rel="noopener noreferrer sponsored"
         aria-label="Open 2-pack Baby Bodysuit on NUFC shop">
        <img class="rail__img" src="https://shop.newcastleunited.com/cdn/shop/files/SA6170BB_FLAT_5_d782acbf-a82d-4993-9f34-8bd7093aae46.webp?v=1716895000&width=800" alt="We heart NUFC — Baby Bodysuit 2-pack">
        <div class="rail__meta">
          <h4>We heart NUFC</h4>
          <p class="clamp-2">Dress your kiddos in style!</p>
        </div>
      </a>
    </article>

    <!-- Item 5 — Pyjama Set -->
    <article class="rail__item">
      <a class="rail__card"
         href="https://shop.newcastleunited.com/products/newcastle-united-adults-black-and-white-crest-pyjama-set"
         target="_blank"
         rel="noopener noreferrer sponsored"
         aria-label="Open B&W Crest Pyjama Set on NUFC shop">
        <img class="rail__img" src="https://shop.newcastleunited.com/cdn/shop/files/AdultsCRESTPANTPyjamaSet7.webp?v=1756980418&width=800" alt="Sleep in style — Black & White Crest Pyjama Set">
        <div class="rail__meta">
          <h4>Sleep in style</h4>
          <p class="clamp-2">B&W Crest Pyjama Set</p>
        </div>
      </a>
    </article>
  </div>
</section>
<!-- ===== /Rail: Gear ===== -->

<!-- ===== LIVE: Scores / Premier League Table / Champions League Table ===== -->
<section class="container" id="live" style="margin:28px auto">
  <h2 class="section-title"><span class="mm-sticker">LIVE</span> <span class="rail-last">Hub</span></h2>

  <div class="mm-3up">

    <!-- Box 1 — LIVE Match -->
<div class="card" id="live-scores">
  <h3 class="section-title" style="color:#0a0a0a">LIVE Match</h3>
  <div class="embed-scroll">
    <iframe
      title="Live Match Widget"
      src="https://www.scoreaxis.com/widget/live-match/19568585?eventsTab=1&font=1&fontSize=-1&bodyBackground=%23ffffff&textColor=%23000000"
      style="width:100%; height:100%; border:none;"></iframe>
  </div>
  <div style="font-size:12px;font-family:Arial,sans-serif;text-align:left;color:#666;margin-top:6px;">
    <a target="_blank" href="https://www.scoreaxis.com/union-saint-gilloise-vs-newcastle-united-live/nupwsr/">
      Union Saint-Gilloise - Newcastle United Live Score
    </a>
  </div>
</div>

    <!-- Box 2 — Premier League Table -->
<div class="card" id="live-pl-table">
  <h3 class="section-title" style="color:#0a0a0a">Premier League Table</h3>
  <div class="embed-scroll">
    <iframe
      title="Premier League Table Widget"
      src="https://www.scoreaxis.com/widget/standings-widget/8?teamsLogo=1&header=1&borderColor=%23ffffff&fontSize=-2&links=1&removeBorders=1&widgetHomeAwayTabs=1&widgetRows=1%2C1%2C1%2C1%2C1%2C1%2C1%2C0%2C1%2C1"
      style="width:100%; height:100%; border:none; transition:all 300ms ease"></iframe>
  </div>
  <div style="font-size:12px;font-family:Arial,sans-serif;text-align:left;color:#666;margin-top:6px;">
    Data provided by <a target="_blank" href="https://www.scoreaxis.com/">Scoreaxis</a>
  </div>
</div>

    <!-- Box 3 — Champions League Table -->
<div class="card" id="live-cl-table">
  <h3 class="section-title" style="color:#0a0a0a">Champions League Table</h3>
  <div class="embed-scroll">
    <iframe
      title="Champions League Table Widget"
      src="https://www.scoreaxis.com/widget/standings-widget/2?teamsLogo=1&header=1&removeBorders=1&fontSize=-1"
      style="width:100%; height:100%; border:none;"></iframe>
  </div>
  <div style="font-size:12px;font-family:Arial,sans-serif;text-align:left;color:#666;margin-top:6px;">
    Data provided by <a target="_blank" href="https://www.scoreaxis.com/">Scoreaxis</a>
  </div>
</div>

  </div>
</section>
<!-- ===== /LIVE ===== -->
    
<!-- ===== Bottom Mini-Hero (Join Us) ===== -->
<section id="newsletter" class="end-cta end-cta--footer" style="background-image:url('/assets/graffitiwallbottom1.jpg')">
  <div class="end-cta__veil"></div>

  <div class="end-cta__inner end-cta__inner--center">
    <h2 class="section-title" style="margin:0 0 10px">Join Us</h2>

    <form id="newsletter-form" class="end-cta__form end-cta__form--center" onsubmit="return false">
      <label for="email" class="visually-hidden">Email address</label>
      <input type="email" id="email" name="email" placeholder="your@email.com" required aria-label="Email address">
      <!-- no extra button; Enter submits -->
      <button type="submit" class="visually-hidden">Join</button>
      <small class="end-cta__hint">Press Enter to join</small>
    </form>
  </div>
</section>
<!-- ===== /Bottom Mini-Hero ===== -->

  </main>

  <footer class="container" style="opacity:.8;padding:24px 0 40px;font-size:.9rem">
    <div>© NewcastleUnite. Unofficial fan site spreading fun and love. Not affiliated with NUFC.</div>
  </footer>

  <!-- Minimal JS for rail arrows + smooth in-page scroll -->
  <script>
    // Rail arrow scrolling
    function railScroll(track, dir=1){
      const w = track.getBoundingClientRect().width;
      track.scrollBy({ left: dir * (w * 0.9), behavior: 'smooth' });
    }
    document.querySelectorAll('.rail__btn').forEach(btn=>{
      const targetSel = btn.getAttribute('data-target');
      const dir = btn.classList.contains('rail__btn--next') ? 1 : -1;
      const track = document.querySelector(targetSel);
      if(!track) return;
      btn.addEventListener('click', ()=>railScroll(track, dir));
    });

    // Smooth scroll for nav (respects reduced motion)
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if(!prefersReduced){
      document.querySelectorAll('a[href^="#"]').forEach(a=>{
        a.addEventListener('click', e=>{
          const id=a.getAttribute('href');
          const el=document.querySelector(id);
          if(el){ e.preventDefault(); el.scrollIntoView({behavior:'smooth'}); }
        });
      });
    }
  </script>

<script>
(function(){
  const gear = document.querySelector('#gear');
  if(!gear) return;
  const links = gear.querySelectorAll('a.rail__card[href^="http"]');
  let i = 1;
  links.forEach(a => {
    try{
      const u = new URL(a.href);
      u.searchParams.set('utm_source','newcastleunite');
      u.searchParams.set('utm_medium','affiliate');
      u.searchParams.set('utm_campaign','gear_picks');
      u.searchParams.set('utm_content','item-' + (i++));
      a.href = u.toString();
    }catch(e){}
  });
})();
</script>

<div id="nav-overlay"></div>
  
<script>
(function(){
  const btn = document.getElementById('nav-toggle');
  const nav = document.getElementById('site-nav');
  const overlay = document.getElementById('nav-overlay');
  if(!btn || !nav || !overlay) return;

  function openNav(){
    nav.classList.add('open');
    overlay.classList.add('show');     // CSS listens for .show
    btn.setAttribute('aria-expanded', 'true');
    document.body.style.overflow = 'hidden'; // lock scroll
  }
  function closeNav(){
    nav.classList.remove('open');
    overlay.classList.remove('show');
    btn.setAttribute('aria-expanded', 'false');
    document.body.style.overflow = '';
  }

  btn.addEventListener('click', ()=>{
    if(nav.classList.contains('open')) closeNav(); else openNav();
  });
  overlay.addEventListener('click', closeNav);
  nav.querySelectorAll('a').forEach(a=> a.addEventListener('click', closeNav));
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeNav(); });
})();
</script>

<script>
(function(){
  const root = document.getElementById('hero');
  if(!root) return;

  const slides   = Array.from(root.querySelectorAll('.nu-hero__slide'));
  const prevBtn  = root.querySelector('.nu-hero__prev');
  const nextBtn  = root.querySelector('.nu-hero__next');
  const dotsWrap = root.querySelector('.nu-hero__dots');

  slides.forEach((_, i)=>{
    const b = document.createElement('button');
    b.setAttribute('aria-label', 'Go to slide ' + (i+1));
    b.addEventListener('click', ()=> go(i, true));
    dotsWrap.appendChild(b);
  });
  const dots = Array.from(dotsWrap.children);

  let idx = Math.max(0, slides.findIndex(s => s.classList.contains('is-active')));
  if (idx === -1) { idx = 0; slides[0].classList.add('is-active'); }

  let timer = null;
  const interval = 5000;   // 5s hold
  let animating = false;

  function render(){
    slides.forEach((s,i)=> s.classList.toggle('is-active', i===idx));
    dots.forEach((d,i)=> d.classList.toggle('is-active', i===idx));
  }

  function go(to, user=false){
    if (animating || to === idx) { if (user) restart(); return; }

    const from = idx;
    const count = slides.length;
    const forward = (to === (idx+1)%count) || (to > idx && !(idx===count-1 && to===0));
    idx = (to + count) % count;

    const current = slides[from];
    const next    = slides[idx];

    animating = true;

    // Clean any leftover inline styles/classes
    [current, next].forEach(el=>{
      el.classList.remove('enter-from-right','enter-from-left','exit-to-left','exit-to-right');
      el.style.transition = '';
      el.style.transform = '';
      el.style.opacity = '';       // <-- clear any inline opacity
      el.style.pointerEvents = '';
    });

    // Prepare next start position (no inline opacity!)
    next.style.transition = 'none';
    next.classList.add(forward ? 'enter-from-right' : 'enter-from-left');
    void next.offsetWidth; // reflow

    // Animate
    next.style.transition = '';
    next.classList.add('is-active');
    current.classList.add(forward ? 'exit-to-left' : 'exit-to-right');

    const tidy = () => {
      current.classList.remove('is-active','exit-to-left','exit-to-right');
      next.classList.remove('enter-from-right','enter-from-left');
      [current, next].forEach(el=>{
        el.style.transition = '';
        el.style.transform = '';
        el.style.opacity = '';     // <-- ensure cleared
        el.style.pointerEvents = '';
      });
      render();
      animating = false;
    };

    next.addEventListener('transitionend', tidy, { once:true });
    setTimeout(tidy, 700); // safety

    if (user) restart();
  }

  function nextSlide(){ go((idx+1) % slides.length); }
  function prevSlide(){ go((idx-1+slides.length) % slides.length, true); }

  function start(){ timer = setInterval(nextSlide, interval); }
  function stop(){ if (timer) { clearInterval(timer); timer = null; } }
  function restart(){ stop(); start(); }

  if (nextBtn) nextBtn.addEventListener('click', ()=> go(idx+1, true));
  if (prevBtn) prevBtn.addEventListener('click', ()=> go(idx-1, true));

  root.addEventListener('mouseenter', stop);
  root.addEventListener('mouseleave', start);

  let x0 = null;
  root.addEventListener('touchstart', e=> x0 = e.touches[0].clientX, {passive:true});
  root.addEventListener('touchend', e=>{
    if(x0==null) return;
    const dx = e.changedTouches[0].clientX - x0;
    if(Math.abs(dx) > 40){ go(dx<0 ? idx+1 : idx-1, true); }
    x0 = null;
  }, {passive:true});

  render(); start();
})();
</script>

 
</body>
</html>
